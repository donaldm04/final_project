{% extends 'base.html' %}

{% block content %}
	<div class="container p-4 p-md-5">
		<div class="card shadow">
			<div class="card-header bg-white">
				<div class="row">
					<div class="col-md-9">
						<h4 class="card-title">Posts ({{ posts.count }})</h4>
					</div>
					<div class="col-md-auto ms-auto">
						<a href="{% url 'blog:create_post' %}" class="btn btn-light">Create Post</a>
					</div>
				</div>
			</div>
			<div class="card-body px-3 px-md-5 pb-md-5">
				<div class="table-responsive">
					<table class="table table-striped table-bordered w-100">
						<tbody>
							{% for post in posts %}
							<tr>
								<td style="width:83%"><h5>{{ post.title }}</h5>{{ post.date_posted }}</td>
								<td style="width:5%">
									<a href="{% url 'blog:view_post' post.id %}" class="btn btn-warning">View</a>
								</td>
								<td style="width:5%">
									<a href="{% url 'blog:edit_post' post.id %}" class="btn btn-primary">Edit</a>
								</td>
								<td style="width:7%">
									<a href="{% url 'blog:remove_post' post.id %}" class="btn btn-danger">Remove</a>
								</td>
							</tr>
							<tr>
								<td colspan="5">
									<p>{{ post.content|linebreaksbr }}</p><br />
									<a href="{% url 'blog:create_comment' post.id %}" class="link-offset-2 link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover h5">Comment</a><br />
								</td>
							</tr>
							{% empty %}
							<tr>
								<td colspan=5>No posts yet</td>
							</tr>
							{% endfor %}
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
{% endblock %}